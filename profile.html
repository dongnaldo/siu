<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로필</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: sans-serif;
            background-color: white;
        }

        .header-area {
            position: relative;
            padding: 10px;
        }

        .back-btn {
            position: absolute;
            top: 5px;
            left: 10px;
            font-size: 40px;
            cursor: pointer;
        }

        /* 프로필 전체 컨테이너 */
        .profile-container {
            width: 100%;
            text-align: center;
            margin-top: 20px;
        }

        /* 프로필 이미지 */
        .profile-photo-box {
            position: relative;
            width: 85%;
            margin: auto;
        }

        .profile-photo {
            width: 100%;
            border-radius: 25px;
        }

        /* 사진 위 버튼 */
        .photo-buttons {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
        }

        .small-btn {
            background: white;
            border: 2px solid black;
            border-radius: 20px;
            padding: 5px 12px;
            font-size: 13px;
            font-weight: 600;
        }

        /* 닉네임 & 타이틀 */
        .title-img {
            width: 85%;
            margin-top: 15px;
        }

        .nickname {
            font-size: 28px;
            font-weight: 700;
            margin-top: 8px;
            color: #9a4ef1;
        }

        .menu-buttons {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .menu-btn {
            padding: 7px 18px;
            border: 2px solid black;
            border-radius: 20px;
            background: white;
            font-size: 18px;
            font-weight: 600;
        }

        /* 뱃지 구역 */
        .badge-section {
            width: 90%;
            margin: 25px auto;
            border-top: 2px solid #ddd;
            padding-top: 20px;
        }

        .badge-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-row-gap: 30px;
            text-align: center;
        }

        .badge-img {
            width: 120px;
        }

        .ad-section {
            margin-top: 40px;
            border-top: 2px solid black;
            padding: 15px 0;
            text-align: center;
        }

        .ad-text {
            color: red;
            font-size: 26px;
            font-weight: 700;
            margin-top: 10px;
        }

    </style>
</head>

<body>

<div class="header-area">
    <div class="back-btn" onclick="history.back()">&lt;</div>
</div>

<div class="profile-container">

    <!-- 프로필 사진 -->
    <div class="profile-photo-box">
        <img id="profilePhoto" class="profile-photo" src="images/profile_me.png">

        <!-- 이미지 위에 버튼 -->
        <div class="photo-buttons" id="photoButtons">
            <button class="small-btn" onclick="startChat()">개인채팅</button>
            <button class="small-btn" onclick="reportUser()">신고</button>
        </div>
    </div>

    <!-- 타이틀 이미지 -->
    <img src="images/title.png" class="title-img">

    <!-- 닉네임 -->
    <div class="nickname" id="nickname">닉네임</div>

    <!-- 내 프로필일 때만 표시되는 메뉴 -->
    <div class="menu-buttons" id="myMenu">
        <button class="menu-btn" onclick="goMyPosts()">내가 쓴 글</button>
        <button class="menu-btn" onclick="goScrap()">스크랩</button>
    </div>

    <!-- 뱃지 영역 -->
    <div class="badge-section">
        <div class="badge-grid">
            <div>
                <img src="images/badge.png" class="badge-img">
                <div>무플의 수호자</div>
            </div>
            <div>
                <img src="images/badge.png" class="badge-img">
                <div>따뜻한 이웃</div>
            </div>
            <div>
                <img src="images/badge.png" class="badge-img">
                <div>이웃 연결자</div>
            </div>
            <div>
                <img src="images/badge.png" class="badge-img">
                <div>후원자 배지</div>
            </div>
        </div>
    </div>

    <!-- 광고 -->
    <div class="ad-section">
        <div>팝업광고</div>
        <div class="ad-text">건강한 노년 생활</div>
    </div>

</div>

<script>
    // URL 파라미터 ?me=true / ?me=false 로 구분
    const urlParams = new URLSearchParams(window.location.search);
    let isMe = urlParams.get("me") === "true";

    const profilePhoto = document.getElementById("profilePhoto");
    const myMenu = document.getElementById("myMenu");
    const photoButtons = document.getElementById("photoButtons");
    const nickname = document.getElementById("nickname");

    if (isMe) {
        // 내 프로필
        profilePhoto.src = "images/profile_me.png";
        myMenu.style.display = "flex";
        photoButtons.style.display = "none"; // 내 프로필에서는 신고/개인채팅 숨김
        nickname.innerText = "하늘에지는별";
    } else {
        // 상대 프로필
        profilePhoto.src = "images/profile_other.png";
        myMenu.style.display = "none"; // 내 글/스크랩 숨김
        photoButtons.style.display = "flex";
        nickname.innerText = "하늘에지는별"; // 상대 닉네임
    }

    function startChat() { alert("채팅 시작"); }
    function reportUser() { alert("신고되었습니다."); }
    function goMyPosts() { alert("내가 쓴 글"); }
    function goScrap() { alert("스크랩 목록"); }
</script>

</body>
</html>
